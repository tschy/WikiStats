┌──────────────────────────────────────────────────────────────────────────────┐
│                                 index.html                                   │
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  1) PAGE LOAD                                                                │
│  ───────────                                                                │
│   Browser parses HTML → creates DOM nodes:                                   │
│                                                                              │
│   ┌──────────────┐   ┌─────────────┐   ┌───────────────┐   ┌─────────────┐  │
│   │ form#form    │   │ div#status  │   │ div#preview   │   │ canvas#chart│  │
│   │ title/from/… │   │ text output │   │ card + image  │   │ drawing area│  │
│   └──────┬───────┘   └──────┬──────┘   └───────┬───────┘   └──────┬──────┘  │
│          │                  │                  │                  │          │
│          ▼                  │                  │                  ▼          │
│   JS grabs references:      │                  │          Chart.js uses this │
│   getElementById(...)       │                  │          canvas later       │
│                                                                              │
│   JS sets default dates:                                                     │
│     from = today - 30 days                                                   │
│     to   = today                                                             │
│                                                                              │
│   JS auto-runs: load("Earth", 300)                                            │
│                                                                              │
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  2) USER CLICK "LOAD"                                                        │
│  ─────────────────                                                          │
│   form submit event fires                                                    │
│        │                                                                     │
│        ▼                                                                     │
│   e.preventDefault()   (stops full-page reload)                              │
│        │                                                                     │
│        ▼                                                                     │
│   load(title, limit)                                                         │
│        │                                                                     │
│        ▼                                                                     │
│   status = "Loading…"                                                        │
│                                                                              │
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  3) TWO REQUESTS IN PARALLEL (Promise.all)                                    │
│  ───────────────────────────────────────                                     │
│                                                                              │
│     ┌───────────────────────┐                      ┌──────────────────────┐ │
│     │ fetchPreview(title)   │                      │ fetchSeries(...)      │ │
│     │ builds URL:           │                      │ builds URL:           │ │
│     │  /api/preview?title=… │                      │  /api/revisions?...   │ │
│     └───────────┬───────────┘                      └───────────┬──────────┘ │
│                 │                                              │            │
│                 ▼                                              ▼            │
│          HTTP request to your server                     HTTP request to     │
│          /api/preview                                   your server          │
│                                                        /api/revisions        │
│                                                                              │
│            (If preview fails: hide preview, continue anyway)                 │
│                                                                              │
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  4) RENDER RESULTS INTO THE DOM                                               │
│  ─────────────────────────────                                              │
│                                                                              │
│   Preview JSON arrives → renderPreview(preview)                               │
│                                                                              │
│     ┌────────────────────────────────────────────────────────────────────┐   │
│     │ div#preview                                                        │   │
│     │  - show/hide                                                      │   │
│     │  - set img src (thumbnailUrl)                                     │   │
│     │  - set title (link to pageUrl)                                    │   │
│     │  - set description + extract                                      │   │
│     └────────────────────────────────────────────────────────────────────┘   │
│                                                                              │
│   Revisions JSON arrives → render(series)                                     │
│                                                                              │
│     ┌────────────────────────────────────────────────────────────────────┐   │
│     │ canvas#chart                                                       │   │
│     │  If chart not created yet: new Chart(canvas, config)               │   │
│     │  Else: update labels + datasets, then chart.update()               │   │
│     └────────────────────────────────────────────────────────────────────┘   │
│                                                                              │
│   status = "Loaded N revisions…"                                              │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘
